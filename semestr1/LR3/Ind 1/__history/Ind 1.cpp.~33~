#pragma hdrstop
#pragma argsused

#include <iostream>
#include <tchar.h>
#include <conio.h>
#include <stdio.h>
#include <math.h>
using namespace std;

int _tmain() {
	int n, f = 1, k = 1, amount;
	float S = 0, Y, x;
	cout << "Enter amount of raw elements: ";
	cin >> n;
	cout << "Enter amount of numbers from what you want to calculate the function: ";
	cin >> amount;
	cout << "Enter x (from 0.1 to 1): ";
	for (int i = 1; i <= amount; i++) {
		cin >> x;
		Y = ((pow(x, 2) / 4) + (x / 2.0) + 1) * exp(x / 2.0);
        S = 0;
		for (int z = 0; z <= n; z++) {
			for (int a = 1; a <= n; a++) {
				k *= a;
				f *= k;
				k = 1;
			}
			S += ((pow(z, 2) + 1) / f) * pow((x / 2.0), z);
		}
		cout << "S(x) = " << S << '\t' << "Y(x) = " << Y << endl;
	}
	getch();
	return 0;
}
